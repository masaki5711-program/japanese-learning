<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§ç”Ÿæ´»æ—¥æœ¬èªå­¦ç¿’ - Daily Life Japanese Learning for Indonesians</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            min-height: 100vh;
            padding: 10px;
            margin: 0;
        }

        @media (min-width: 768px) {
            body {
                padding: 20px;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #6c5ce7, #a29bfe);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .home-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .home-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.05);
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .header p {
            font-size: 1em;
            opacity: 0.9;
            line-height: 1.3;
        }

        @media (min-width: 768px) {
            .header {
                padding: 30px;
            }

            .header h1 {
                font-size: 2.5em;
                margin-bottom: 10px;
            }

            .header p {
                font-size: 1.2em;
            }
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab {
            flex: 1;
            min-width: 120px;
            padding: 12px 8px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
            text-align: center;
            white-space: nowrap;
        }

        @media (min-width: 768px) {
            .tab {
                padding: 15px 20px;
                font-size: 16px;
                min-width: auto;
            }
        }

        .tab.active {
            background: white;
            color: #6c5ce7;
            border-bottom: 3px solid #6c5ce7;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .content {
            padding: 15px;
        }

        @media (min-width: 768px) {
            .content {
                padding: 30px;
            }
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .search-container {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        @media (min-width: 768px) {
            .search-container {
                margin-bottom: 30px;
                gap: 15px;
            }

            .search-input {
                min-width: 250px;
                padding: 12px 20px;
                font-size: 16px;
            }
        }

        .search-input:focus {
            outline: none;
            border-color: #6c5ce7;
        }

        .category-filter {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            background: white;
        }

        @media (min-width: 768px) {
            .category-filter {
                padding: 12px 20px;
                font-size: 16px;
            }
        }

        .word-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        @media (min-width: 480px) {
            .word-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
            }
        }

        @media (min-width: 768px) {
            .word-grid {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
                margin-bottom: 30px;
            }
        }

        .word-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s;
            cursor: pointer;
        }

        @media (min-width: 768px) {
            .word-card {
                padding: 20px;
            }
        }

        .word-card:hover {
            border-color: #6c5ce7;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(108, 92, 231, 0.1);
        }

        .word-japanese {
            font-size: 20px;
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 4px;
        }

        .word-hiragana {
            font-size: 16px;
            color: #636e72;
            margin-bottom: 8px;
        }

        .word-indonesian {
            font-size: 18px;
            color: #e17055;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .word-romaji {
            font-size: 14px;
            color: #95a5a6;
            font-style: italic;
        }

        @media (min-width: 768px) {
            .word-japanese {
                font-size: 24px;
                margin-bottom: 5px;
            }

            .word-hiragana {
                font-size: 18px;
                margin-bottom: 10px;
            }

            .word-indonesian {
                font-size: 20px;
                margin-bottom: 5px;
            }

            .word-romaji {
                font-size: 16px;
            }
        }

        .word-category {
            display: inline-block;
            background: #6c5ce7;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            margin-top: 10px;
        }

        .button-row {
            display: flex;
            gap: 6px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .example-btn {
            background: #e17055;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 0;
        }

        @media (min-width: 768px) {
            .button-row {
                gap: 8px;
                margin-top: 15px;
            }

            .example-btn {
                padding: 6px 12px;
                font-size: 12px;
                flex: initial;
            }
        }

        .example-btn:hover {
            background: #d63031;
        }

        .word-example {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
            display: none;
            font-size: 14px;
            line-height: 1.4;
        }

        .word-example.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .example-japanese {
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 4px;
        }

        .example-romaji {
            color: #95a5a6;
            font-size: 13px;
            font-style: italic;
            margin-top: 4px;
        }

        .example-indonesian {
            color: #e17055;
            font-weight: bold;
        }

        .category-bilingual {
            font-size: 11px;
            line-height: 1.2;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }

        .pronunciation-btn {
            background: #00b894;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 0;
        }

        @media (min-width: 768px) {
            .pronunciation-btn {
                padding: 6px 12px;
                font-size: 12px;
                flex: initial;
                margin-left: 10px;
            }
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        @media (min-width: 768px) {
            .stats-container {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }
        }

        .stat-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-number {
            font-size: 36px;
            font-weight: bold;
            color: #6c5ce7;
        }

        .stat-label {
            font-size: 14px;
            color: #636e72;
            margin-top: 5px;
        }

        .quiz-category-selection {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .category-checkboxes {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        @media (min-width: 480px) {
            .category-checkboxes {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
        }

        @media (min-width: 768px) {
            .category-checkboxes {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        .category-checkbox {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .category-checkbox:hover {
            background: #e9ecef;
        }

        .category-checkbox input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .category-checkbox label {
            cursor: pointer;
            font-size: 14px;
            line-height: 1.3;
            flex: 1;
        }

        .quiz-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .select-all-btn {
            background: #00cec9;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .select-all-btn:hover {
            background: #00b894;
        }

        .quiz-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
        }

        .quiz-score {
            font-size: 20px;
            margin: 20px 0;
            color: #2d3436;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .quiz-option {
            padding: 15px 20px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .quiz-option:hover {
            border-color: #6c5ce7;
            background: #f0f4ff;
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #00b894;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #e17055;
            color: #721c24;
        }

        .quiz-question-bilingual {
            text-align: center;
            margin-bottom: 20px;
        }

        .quiz-question-japanese {
            font-size: 22px;
            color: #2d3436;
            margin-bottom: 6px;
            line-height: 1.3;
        }

        .quiz-question-indonesian {
            font-size: 18px;
            color: #636e72;
            font-style: italic;
            line-height: 1.3;
        }

        .quiz-question-romaji {
            font-size: 14px;
            color: #95a5a6;
            margin-top: 4px;
            font-style: italic;
        }

        @media (min-width: 768px) {
            .quiz-question-japanese {
                font-size: 28px;
                margin-bottom: 8px;
            }

            .quiz-question-indonesian {
                font-size: 20px;
            }

            .quiz-question-romaji {
                font-size: 16px;
                margin-top: 5px;
            }
        }

        .btn {
            background: #6c5ce7;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #5a4fcf;
            transform: translateY(-2px);
        }

        .example-container {
            background: #e8f4f8;
            border-left: 4px solid #00cec9;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .example-title {
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 10px;
        }

        .example-sentence {
            margin: 8px 0;
            padding: 8px;
            background: white;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="home-button">ğŸ  ãƒ›ãƒ¼ãƒ </a>
            <h1>ğŸ  ç§ç”Ÿæ´»æ—¥æœ¬èªå­¦ç¿’</h1>
            <p>Belajar Bahasa Jepang Sehari-hari - Daily Life Japanese Learning</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('dictionary')">ğŸ“š è¾æ›¸ (Kamus)</button>
            <button class="tab" onclick="showTab('quiz')">ğŸ¯ ã‚¯ã‚¤ã‚º (Kuis)</button>
            <button class="tab" onclick="showTab('examples')">ğŸ’¡ ä¾‹æ–‡ (Contoh)</button>
            <button class="tab" onclick="showTab('practice')">ğŸ—£ï¸ ç·´ç¿’ (Latihan)</button>
        </div>

        <div class="content">
            <!-- Dictionary Tab -->
            <div id="dictionary" class="tab-content active">
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-number" id="totalWords">180</div>
                        <div class="stat-label">ç·å˜èªæ•° (Total Kata)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="categoriesCount">12</div>
                        <div class="stat-label">ã‚«ãƒ†ã‚´ãƒªæ•° (Kategori)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="learnedWords">0</div>
                        <div class="stat-label">å­¦ç¿’æ¸ˆã¿ (Dipelajari)</div>
                    </div>
                </div>

                <div class="search-container">
                    <input type="text" class="search-input" id="searchInput" placeholder="å˜èªã‚’æ¤œç´¢... (Cari kata...)">
                    <select class="category-filter" id="categoryFilter">
                        <option value="">ã™ã¹ã¦ã®ã‚«ãƒ†ã‚´ãƒª (Semua Kategori)</option>
                        <option value="æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾">æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾ (Salam & Ungkapan Dasar)</option>
                        <option value="å®¶æ—ãƒ»äººé–“é–¢ä¿‚">å®¶æ—ãƒ»äººé–“é–¢ä¿‚ (Keluarga & Hubungan)</option>
                        <option value="é£Ÿäº‹ãƒ»æ–™ç†">é£Ÿäº‹ãƒ»æ–™ç† (Makanan & Masak)</option>
                        <option value="è²·ã„ç‰©">è²·ã„ç‰© (Berbelanja)</option>
                        <option value="äº¤é€šãƒ»ç§»å‹•">äº¤é€šãƒ»ç§»å‹• (Transportasi)</option>
                        <option value="æ™‚é–“ãƒ»æ—¥ä»˜">æ™‚é–“ãƒ»æ—¥ä»˜ (Waktu & Tanggal)</option>
                        <option value="ä½å±…ãƒ»å®¶å…·">ä½å±…ãƒ»å®¶å…· (Rumah & Furnitur)</option>
                        <option value="å¥åº·ãƒ»ç—…æ°—">å¥åº·ãƒ»ç—…æ°— (Kesehatan)</option>
                        <option value="å¤©æ°—ãƒ»å­£ç¯€">å¤©æ°—ãƒ»å­£ç¯€ (Cuaca & Musim)</option>
                        <option value="æ„Ÿæƒ…ãƒ»æ°—æŒã¡">æ„Ÿæƒ…ãƒ»æ°—æŒã¡ (Perasaan)</option>
                        <option value="è¶£å‘³ãƒ»å¨¯æ¥½">è¶£å‘³ãƒ»å¨¯æ¥½ (Hobi & Hiburan)</option>
                        <option value="ä»•äº‹ãƒ»å­¦æ ¡">ä»•äº‹ãƒ»å­¦æ ¡ (Kerja & Sekolah)</option>
                    </select>
                </div>

                <div class="word-grid" id="wordGrid">
                    <!-- Words will be populated by JavaScript -->
                </div>
            </div>

            <!-- Quiz Tab -->
            <div id="quiz" class="tab-content">
                <div class="quiz-container">
                    <h2>ğŸ¯ æ—¥å¸¸ç”Ÿæ´»ã‚¯ã‚¤ã‚º - Kuis Kehidupan Sehari-hari</h2>

                    <!-- Category Selection -->
                    <div class="quiz-category-selection">
                        <h3>ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠã—ã¦ãã ã•ã„ - Pilih Kategori</h3>
                        <div class="quiz-controls">
                            <button class="select-all-btn" onclick="selectAllCategories()">å…¨ã¦é¸æŠ (Pilih Semua)</button>
                            <button class="select-all-btn" onclick="deselectAllCategories()">å…¨ã¦è§£é™¤ (Hapus Semua)</button>
                        </div>
                        <div class="category-checkboxes" id="categoryCheckboxes">
                            <!-- Checkboxes will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="quiz-score">
                        ã‚¹ã‚³ã‚¢ (Skor): <span id="quizScore">0</span> / <span id="quizTotal">0</span>
                    </div>

                    <div class="quiz-question-bilingual" id="quizQuestionContainer">
                        <div class="quiz-question-japanese" id="quizQuestionJapanese">ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã—ã¦ãã ã•ã„</div>
                        <div class="quiz-question-indonesian" id="quizQuestionIndonesian">Mulai kuis</div>
                        <div class="quiz-question-romaji" id="quizQuestionRomaji">Mulai kuis</div>
                    </div>

                    <div class="quiz-options" id="quizOptions">
                        <!-- Options will be populated by JavaScript -->
                    </div>

                    <div class="quiz-controls">
                        <button class="btn" onclick="startQuiz()">æ–°ã—ã„ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ (Mulai Kuis Baru)</button>
                        <button class="btn" onclick="nextQuestion()" id="nextBtn" style="display:none;">æ¬¡ã®å•é¡Œ (Soal Berikutnya)</button>
                    </div>
                </div>
            </div>

            <!-- Examples Tab -->
            <div id="examples" class="tab-content">
                <h2>ğŸ’¡ æ—¥å¸¸ä¼šè©±ä¾‹æ–‡ - Contoh Percakapan Sehari-hari</h2>

                <div class="example-container">
                    <div class="example-title">ğŸŒ… æœã®æŒ¨æ‹¶ (Salam Pagi)</div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚<br>
                        <strong>Indonesia:</strong> Selamat pagi.<br>
                        <strong>Romaji:</strong> ohayou gozaimasu.
                    </div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ä»Šæ—¥ã¯ã„ã„å¤©æ°—ã§ã™ã­ã€‚<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ãã‚‡ã†ã¯ã„ã„ã¦ã‚“ãã§ã™ã­ã€‚<br>
                        <strong>Indonesia:</strong> Cuaca hari ini bagus ya.<br>
                        <strong>Romaji:</strong> kyou wa ii tenki desu ne.
                    </div>
                </div>

                <div class="example-container">
                    <div class="example-title">ğŸ½ï¸ é£Ÿäº‹ (Makan)</div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ä½•ã‚’é£Ÿã¹ãŸã„ã§ã™ã‹ï¼Ÿ<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ãªã«ã‚’ãŸã¹ãŸã„ã§ã™ã‹ï¼Ÿ<br>
                        <strong>Indonesia:</strong> Mau makan apa?<br>
                        <strong>Romaji:</strong> nani wo tabetai desu ka?
                    </div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ã„ãŸã ãã¾ã™ã€‚<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ã„ãŸã ãã¾ã™ã€‚<br>
                        <strong>Indonesia:</strong> Selamat makan (ucapan sebelum makan).<br>
                        <strong>Romaji:</strong> itadakimasu.
                    </div>
                </div>

                <div class="example-container">
                    <div class="example-title">ğŸ›’ è²·ã„ç‰© (Berbelanja)</div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ã“ã‚Œã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿ<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ã“ã‚Œã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿ<br>
                        <strong>Indonesia:</strong> Ini berapa harganya?<br>
                        <strong>Romaji:</strong> kore wa ikura desu ka?
                    </div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ã‚«ãƒ¼ãƒ‰ã§æ‰•ãˆã¾ã™ã‹ï¼Ÿ<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ã‹ãƒ¼ã©ã§ã¯ã‚‰ãˆã¾ã™ã‹ï¼Ÿ<br>
                        <strong>Indonesia:</strong> Bisa bayar dengan kartu?<br>
                        <strong>Romaji:</strong> kaado de haraemasu ka?
                    </div>
                </div>

                <div class="example-container">
                    <div class="example-title">ğŸšŒ äº¤é€š (Transportasi)</div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> é§…ã¯ã©ã“ã§ã™ã‹ï¼Ÿ<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ãˆãã¯ã©ã“ã§ã™ã‹ï¼Ÿ<br>
                        <strong>Indonesia:</strong> Stasiun di mana?<br>
                        <strong>Romaji:</strong> eki wa doko desu ka?
                    </div>
                    <div class="example-sentence">
                        <strong>æ—¥æœ¬èª:</strong> ã‚¿ã‚¯ã‚·ãƒ¼ã‚’å‘¼ã‚“ã§ãã ã•ã„ã€‚<br>
                        <strong>ã²ã‚‰ãŒãª:</strong> ãŸãã—ãƒ¼ã‚’ã‚ˆã‚“ã§ãã ã•ã„ã€‚<br>
                        <strong>Indonesia:</strong> Tolong panggil taksi.<br>
                        <strong>Romaji:</strong> takushii wo yonde kudasai.
                    </div>
                </div>
            </div>

            <!-- Practice Tab -->
            <div id="practice" class="tab-content">
                <h2>ğŸ—£ï¸ ç™ºéŸ³ç·´ç¿’ - Latihan Pelafalan</h2>
                <p>é¸æŠã—ãŸå˜èªã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç™ºéŸ³ã‚’ç·´ç¿’ã—ã¾ã—ã‚‡ã† (Klik kata yang dipilih untuk berlatih pelafalan)</p>

                <div class="search-container">
                    <select class="category-filter" id="practiceCategory">
                        <option value="æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾">æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾ (Salam & Ungkapan)</option>
                        <option value="å®¶æ—ãƒ»äººé–“é–¢ä¿‚">å®¶æ—ãƒ»äººé–“é–¢ä¿‚ (Keluarga)</option>
                        <option value="é£Ÿäº‹ãƒ»æ–™ç†">é£Ÿäº‹ãƒ»æ–™ç† (Makanan)</option>
                        <option value="è²·ã„ç‰©">è²·ã„ç‰© (Berbelanja)</option>
                    </select>
                    <button class="btn" onclick="loadPracticeWords()">ç·´ç¿’å˜èªã‚’èª­ã¿è¾¼ã¿ (Muat Kata Latihan)</button>
                </div>

                <div class="word-grid" id="practiceGrid">
                    <!-- Practice words will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Complete Dictionary data for daily life - All 180 words
        const dictionary = [
            // æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ãŠã¯ã‚ˆã†", hiragana: "ãŠã¯ã‚ˆã†", indonesian: "Selamat pagi (kasual)", romaji: "ohayou"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™", hiragana: "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™", indonesian: "Selamat pagi (sopan)", romaji: "ohayou gozaimasu"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã“ã‚“ã«ã¡ã¯", hiragana: "ã“ã‚“ã«ã¡ã¯", indonesian: "Selamat siang", romaji: "konnichiwa"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã“ã‚“ã°ã‚“ã¯", hiragana: "ã“ã‚“ã°ã‚“ã¯", indonesian: "Selamat malam", romaji: "konbanwa"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã•ã‚ˆã†ãªã‚‰", hiragana: "ã•ã‚ˆã†ãªã‚‰", indonesian: "Selamat tinggal", romaji: "sayounara"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã‚ã‚ŠãŒã¨ã†", hiragana: "ã‚ã‚ŠãŒã¨ã†", indonesian: "Terima kasih (kasual)", romaji: "arigatou"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™", hiragana: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™", indonesian: "Terima kasih (sopan)", romaji: "arigatou gozaimasu"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã™ã¿ã¾ã›ã‚“", hiragana: "ã™ã¿ã¾ã›ã‚“", indonesian: "Maaf/Permisi", romaji: "sumimasen"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã”ã‚ã‚“ãªã•ã„", hiragana: "ã”ã‚ã‚“ãªã•ã„", indonesian: "Maaf", romaji: "gomen nasai"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã¯ã„", hiragana: "ã¯ã„", indonesian: "Ya", romaji: "hai"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ã„ã„ãˆ", hiragana: "ã„ã„ãˆ", indonesian: "Tidak", romaji: "iie"},
            {category: "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾", japanese: "ãŠç–²ã‚Œæ§˜", hiragana: "ãŠã¤ã‹ã‚Œã•ã¾", indonesian: "Terima kasih atas kerja kerasnya", romaji: "otsukaresama"},

            // å®¶æ—ãƒ»äººé–“é–¢ä¿‚
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å®¶æ—", hiragana: "ã‹ãã", indonesian: "Keluarga", romaji: "kazoku"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "ä¸¡è¦ª", hiragana: "ã‚Šã‚‡ã†ã—ã‚“", indonesian: "Orang tua", romaji: "ryoushin"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "ãŠçˆ¶ã•ã‚“", hiragana: "ãŠã¨ã†ã•ã‚“", indonesian: "Ayah", romaji: "otousan"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "ãŠæ¯ã•ã‚“", hiragana: "ãŠã‹ã‚ã•ã‚“", indonesian: "Ibu", romaji: "okaasan"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å…„", hiragana: "ã‚ã«", indonesian: "Kakak laki-laki", romaji: "ani"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å§‰", hiragana: "ã‚ã­", indonesian: "Kakak perempuan", romaji: "ane"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å¼Ÿ", hiragana: "ãŠã¨ã†ã¨", indonesian: "Adik laki-laki", romaji: "otouto"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å¦¹", hiragana: "ã„ã‚‚ã†ã¨", indonesian: "Adik perempuan", romaji: "imouto"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å‹é”", hiragana: "ã¨ã‚‚ã ã¡", indonesian: "Teman", romaji: "tomodachi"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "æ‹äºº", hiragana: "ã“ã„ã³ã¨", indonesian: "Kekasih", romaji: "koibito"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "å­ä¾›", hiragana: "ã“ã©ã‚‚", indonesian: "Anak", romaji: "kodomo"},
            {category: "å®¶æ—ãƒ»äººé–“é–¢ä¿‚", japanese: "èµ¤ã¡ã‚ƒã‚“", hiragana: "ã‚ã‹ã¡ã‚ƒã‚“", indonesian: "Bayi", romaji: "akachan"},

            // é£Ÿäº‹ãƒ»æ–™ç†
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "é£Ÿã¹ç‰©", hiragana: "ãŸã¹ã‚‚ã®", indonesian: "Makanan", romaji: "tabemono"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "é£²ã¿ç‰©", hiragana: "ã®ã¿ã‚‚ã®", indonesian: "Minuman", romaji: "nomimono"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "ã”é£¯", hiragana: "ã”ã¯ã‚“", indonesian: "Nasi/Makan", romaji: "gohan"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "ãƒ‘ãƒ³", hiragana: "ã±ã‚“", indonesian: "Roti", romaji: "pan"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "éºº", hiragana: "ã‚ã‚“", indonesian: "Mie", romaji: "men"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "è‚‰", hiragana: "ã«ã", indonesian: "Daging", romaji: "niku"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "é­š", hiragana: "ã•ã‹ãª", indonesian: "Ikan", romaji: "sakana"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "é‡èœ", hiragana: "ã‚„ã•ã„", indonesian: "Sayuran", romaji: "yasai"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "æœç‰©", hiragana: "ãã ã‚‚ã®", indonesian: "Buah-buahan", romaji: "kudamono"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "æ°´", hiragana: "ã¿ãš", indonesian: "Air", romaji: "mizu"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "ãŠèŒ¶", hiragana: "ãŠã¡ã‚ƒ", indonesian: "Teh", romaji: "ocha"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "ã‚³ãƒ¼ãƒ’ãƒ¼", hiragana: "ã“ãƒ¼ã²ãƒ¼", indonesian: "Kopi", romaji: "koohii"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "ãƒ“ãƒ¼ãƒ«", hiragana: "ã³ãƒ¼ã‚‹", indonesian: "Bir", romaji: "biiru"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "æœé£Ÿ", hiragana: "ã¡ã‚‡ã†ã—ã‚‡ã", indonesian: "Sarapan", romaji: "choushoku"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "æ˜¼é£Ÿ", hiragana: "ã¡ã‚…ã†ã—ã‚‡ã", indonesian: "Makan siang", romaji: "chuushoku"},
            {category: "é£Ÿäº‹ãƒ»æ–™ç†", japanese: "å¤•é£Ÿ", hiragana: "ã‚†ã†ã—ã‚‡ã", indonesian: "Makan malam", romaji: "yuushoku"},

            // è²·ã„ç‰©
            {category: "è²·ã„ç‰©", japanese: "è²·ã„ç‰©", hiragana: "ã‹ã„ã‚‚ã®", indonesian: "Berbelanja", romaji: "kaimono"},
            {category: "è²·ã„ç‰©", japanese: "åº—", hiragana: "ã¿ã›", indonesian: "Toko", romaji: "mise"},
            {category: "è²·ã„ç‰©", japanese: "ã‚¹ãƒ¼ãƒ‘ãƒ¼", hiragana: "ã™ãƒ¼ã±ãƒ¼", indonesian: "Supermarket", romaji: "suupaa"},
            {category: "è²·ã„ç‰©", japanese: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", hiragana: "ã§ã±ãƒ¼ã¨", indonesian: "Department Store", romaji: "depaato"},
            {category: "è²·ã„ç‰©", japanese: "å€¤æ®µ", hiragana: "ã­ã ã‚“", indonesian: "Harga", romaji: "nedan"},
            {category: "è²·ã„ç‰©", japanese: "ãŠé‡‘", hiragana: "ãŠã‹ã­", indonesian: "Uang", romaji: "okane"},
            {category: "è²·ã„ç‰©", japanese: "å®‰ã„", hiragana: "ã‚„ã™ã„", indonesian: "Murah", romaji: "yasui"},
            {category: "è²·ã„ç‰©", japanese: "é«˜ã„", hiragana: "ãŸã‹ã„", indonesian: "Mahal", romaji: "takai"},
            {category: "è²·ã„ç‰©", japanese: "è²·ã†", hiragana: "ã‹ã†", indonesian: "Membeli", romaji: "kau"},
            {category: "è²·ã„ç‰©", japanese: "å£²ã‚‹", hiragana: "ã†ã‚‹", indonesian: "Menjual", romaji: "uru"},
            {category: "è²·ã„ç‰©", japanese: "ãƒ¬ã‚¸", hiragana: "ã‚Œã˜", indonesian: "Kasir", romaji: "reji"},
            {category: "è²·ã„ç‰©", japanese: "è¢‹", hiragana: "ãµãã‚", indonesian: "Kantong", romaji: "fukuro"},

            // äº¤é€šãƒ»ç§»å‹•
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "äº¤é€š", hiragana: "ã“ã†ã¤ã†", indonesian: "Transportasi", romaji: "koutsuu"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "é›»è»Š", hiragana: "ã§ã‚“ã—ã‚ƒ", indonesian: "Kereta", romaji: "densha"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "ãƒã‚¹", hiragana: "ã°ã™", indonesian: "Bus", romaji: "basu"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "ã‚¿ã‚¯ã‚·ãƒ¼", hiragana: "ãŸãã—ãƒ¼", indonesian: "Taksi", romaji: "takushii"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "è‡ªè»¢è»Š", hiragana: "ã˜ã¦ã‚“ã—ã‚ƒ", indonesian: "Sepeda", romaji: "jitensha"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "è»Š", hiragana: "ãã‚‹ã¾", indonesian: "Mobil", romaji: "kuruma"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "é£›è¡Œæ©Ÿ", hiragana: "ã²ã“ã†ã", indonesian: "Pesawat", romaji: "hikouki"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "é§…", hiragana: "ãˆã", indonesian: "Stasiun", romaji: "eki"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "ç©ºæ¸¯", hiragana: "ãã†ã“ã†", indonesian: "Bandara", romaji: "kuukou"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "é“", hiragana: "ã¿ã¡", indonesian: "Jalan", romaji: "michi"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "æ­©ã", hiragana: "ã‚ã‚‹ã", indonesian: "Berjalan", romaji: "aruku"},
            {category: "äº¤é€šãƒ»ç§»å‹•", japanese: "èµ°ã‚‹", hiragana: "ã¯ã—ã‚‹", indonesian: "Berlari", romaji: "hashiru"},

            // æ™‚é–“ãƒ»æ—¥ä»˜
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æ™‚é–“", hiragana: "ã˜ã‹ã‚“", indonesian: "Waktu", romaji: "jikan"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "ä»Š", hiragana: "ã„ã¾", indonesian: "Sekarang", romaji: "ima"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "ä»Šæ—¥", hiragana: "ãã‚‡ã†", indonesian: "Hari ini", romaji: "kyou"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æ˜¨æ—¥", hiragana: "ãã®ã†", indonesian: "Kemarin", romaji: "kinou"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æ˜æ—¥", hiragana: "ã‚ã—ãŸ", indonesian: "Besok", romaji: "ashita"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æœ", hiragana: "ã‚ã•", indonesian: "Pagi", romaji: "asa"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æ˜¼", hiragana: "ã²ã‚‹", indonesian: "Siang", romaji: "hiru"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "å¤œ", hiragana: "ã‚ˆã‚‹", indonesian: "Malam", romaji: "yoru"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æœˆæ›œæ—¥", hiragana: "ã’ã¤ã‚ˆã†ã³", indonesian: "Senin", romaji: "getsuyoubi"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "ç«æ›œæ—¥", hiragana: "ã‹ã‚ˆã†ã³", indonesian: "Selasa", romaji: "kayoubi"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æ°´æ›œæ—¥", hiragana: "ã™ã„ã‚ˆã†ã³", indonesian: "Rabu", romaji: "suiyoubi"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æœ¨æ›œæ—¥", hiragana: "ã‚‚ãã‚ˆã†ã³", indonesian: "Kamis", romaji: "mokuyoubi"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "é‡‘æ›œæ—¥", hiragana: "ãã‚“ã‚ˆã†ã³", indonesian: "Jumat", romaji: "kinyoubi"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "åœŸæ›œæ—¥", hiragana: "ã©ã‚ˆã†ã³", indonesian: "Sabtu", romaji: "doyoubi"},
            {category: "æ™‚é–“ãƒ»æ—¥ä»˜", japanese: "æ—¥æ›œæ—¥", hiragana: "ã«ã¡ã‚ˆã†ã³", indonesian: "Minggu", romaji: "nichiyoubi"},

            // ä½å±…ãƒ»å®¶å…·
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "å®¶", hiragana: "ã„ãˆ", indonesian: "Rumah", romaji: "ie"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "éƒ¨å±‹", hiragana: "ã¸ã‚„", indonesian: "Kamar", romaji: "heya"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "å°æ‰€", hiragana: "ã ã„ã©ã“ã‚", indonesian: "Dapur", romaji: "daidokoro"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "é¢¨å‘‚", hiragana: "ãµã‚", indonesian: "Kamar mandi", romaji: "furo"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "ãƒˆã‚¤ãƒ¬", hiragana: "ã¨ã„ã‚Œ", indonesian: "Toilet", romaji: "toire"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "å¯å®¤", hiragana: "ã—ã‚“ã—ã¤", indonesian: "Kamar tidur", romaji: "shinshitsu"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "ãƒ™ãƒƒãƒ‰", hiragana: "ã¹ã£ã©", indonesian: "Tempat tidur", romaji: "beddo"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "æ¤…å­", hiragana: "ã„ã™", indonesian: "Kursi", romaji: "isu"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "æœº", hiragana: "ã¤ããˆ", indonesian: "Meja", romaji: "tsukue"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "å†·è”µåº«", hiragana: "ã‚Œã„ãã†ã“", indonesian: "Kulkas", romaji: "reizouko"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "ãƒ†ãƒ¬ãƒ“", hiragana: "ã¦ã‚Œã³", indonesian: "TV", romaji: "terebi"},
            {category: "ä½å±…ãƒ»å®¶å…·", japanese: "ã‚¨ã‚¢ã‚³ãƒ³", hiragana: "ãˆã‚ã“ã‚“", indonesian: "AC", romaji: "eakon"},

            // å¥åº·ãƒ»ç—…æ°—
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "å¥åº·", hiragana: "ã‘ã‚“ã“ã†", indonesian: "Kesehatan", romaji: "kenkou"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "ç—…æ°—", hiragana: "ã³ã‚‡ã†ã", indonesian: "Sakit", romaji: "byouki"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "é¢¨é‚ª", hiragana: "ã‹ãœ", indonesian: "Masuk angin", romaji: "kaze"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "ç†±", hiragana: "ã­ã¤", indonesian: "Demam", romaji: "netsu"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "é ­ç—›", hiragana: "ãšã¤ã†", indonesian: "Sakit kepala", romaji: "zutsuu"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "è…¹ç—›", hiragana: "ãµãã¤ã†", indonesian: "Sakit perut", romaji: "fukutsuu"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "ç—…é™¢", hiragana: "ã³ã‚‡ã†ã„ã‚“", indonesian: "Rumah sakit", romaji: "byouin"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "åŒ»è€…", hiragana: "ã„ã—ã‚ƒ", indonesian: "Dokter", romaji: "isha"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "è–¬", hiragana: "ãã™ã‚Š", indonesian: "Obat", romaji: "kusuri"},
            {category: "å¥åº·ãƒ»ç—…æ°—", japanese: "æ³¨å°„", hiragana: "ã¡ã‚…ã†ã—ã‚ƒ", indonesian: "Suntik", romaji: "chuusha"},

            // å¤©æ°—ãƒ»å­£ç¯€
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "å¤©æ°—", hiragana: "ã¦ã‚“ã", indonesian: "Cuaca", romaji: "tenki"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "æ™´ã‚Œ", hiragana: "ã¯ã‚Œ", indonesian: "Cerah", romaji: "hare"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "é›¨", hiragana: "ã‚ã‚", indonesian: "Hujan", romaji: "ame"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "é›ª", hiragana: "ã‚†ã", indonesian: "Salju", romaji: "yuki"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "é¢¨", hiragana: "ã‹ãœ", indonesian: "Angin", romaji: "kaze"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "æš‘ã„", hiragana: "ã‚ã¤ã„", indonesian: "Panas", romaji: "atsui"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "å¯’ã„", hiragana: "ã•ã‚€ã„", indonesian: "Dingin", romaji: "samui"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "æ˜¥", hiragana: "ã¯ã‚‹", indonesian: "Musim semi", romaji: "haru"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "å¤", hiragana: "ãªã¤", indonesian: "Musim panas", romaji: "natsu"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "ç§‹", hiragana: "ã‚ã", indonesian: "Musim gugur", romaji: "aki"},
            {category: "å¤©æ°—ãƒ»å­£ç¯€", japanese: "å†¬", hiragana: "ãµã‚†", indonesian: "Musim dingin", romaji: "fuyu"},

            // æ„Ÿæƒ…ãƒ»æ°—æŒã¡
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "å¬‰ã—ã„", hiragana: "ã†ã‚Œã—ã„", indonesian: "Senang", romaji: "ureshii"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "æ‚²ã—ã„", hiragana: "ã‹ãªã—ã„", indonesian: "Sedih", romaji: "kanashii"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "æ€’ã‚‹", hiragana: "ãŠã“ã‚‹", indonesian: "Marah", romaji: "okoru"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "å¿ƒé…", hiragana: "ã—ã‚“ã±ã„", indonesian: "Khawatir", romaji: "shinpai"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "å®‰å¿ƒ", hiragana: "ã‚ã‚“ã—ã‚“", indonesian: "Tenang/Lega", romaji: "anshin"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "é©šã", hiragana: "ãŠã©ã‚ã", indonesian: "Terkejut", romaji: "odoroku"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "å›°ã‚‹", hiragana: "ã“ã¾ã‚‹", indonesian: "Bingung/Kesulitan", romaji: "komaru"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "ç–²ã‚Œã‚‹", hiragana: "ã¤ã‹ã‚Œã‚‹", indonesian: "Capek", romaji: "tsukareru"},
            {category: "æ„Ÿæƒ…ãƒ»æ°—æŒã¡", japanese: "çœ ã„", hiragana: "ã­ã‚€ã„", indonesian: "Mengantuk", romaji: "nemui"},

            // è¶£å‘³ãƒ»å¨¯æ¥½
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "è¶£å‘³", hiragana: "ã—ã‚…ã¿", indonesian: "Hobi", romaji: "shumi"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "éŸ³æ¥½", hiragana: "ãŠã‚“ãŒã", indonesian: "Musik", romaji: "ongaku"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "æ˜ ç”»", hiragana: "ãˆã„ãŒ", indonesian: "Film", romaji: "eiga"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "æœ¬", hiragana: "ã»ã‚“", indonesian: "Buku", romaji: "hon"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "ã‚²ãƒ¼ãƒ ", hiragana: "ã’ãƒ¼ã‚€", indonesian: "Game", romaji: "geemu"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "ã‚¹ãƒãƒ¼ãƒ„", hiragana: "ã™ã½ãƒ¼ã¤", indonesian: "Olahraga", romaji: "supootsu"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "æ—…è¡Œ", hiragana: "ã‚Šã‚‡ã“ã†", indonesian: "Perjalanan", romaji: "ryokou"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "å†™çœŸ", hiragana: "ã—ã‚ƒã—ã‚“", indonesian: "Foto", romaji: "shashin"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "æ–™ç†", hiragana: "ã‚Šã‚‡ã†ã‚Š", indonesian: "Memasak", romaji: "ryouri"},
            {category: "è¶£å‘³ãƒ»å¨¯æ¥½", japanese: "èª­æ›¸", hiragana: "ã©ãã—ã‚‡", indonesian: "Membaca", romaji: "dokusho"},

            // ä»•äº‹ãƒ»å­¦æ ¡
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "ä»•äº‹", hiragana: "ã—ã”ã¨", indonesian: "Kerja", romaji: "shigoto"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "ä¼šç¤¾", hiragana: "ã‹ã„ã—ã‚ƒ", indonesian: "Perusahaan", romaji: "kaisha"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "å­¦æ ¡", hiragana: "ãŒã£ã“ã†", indonesian: "Sekolah", romaji: "gakkou"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "å¤§å­¦", hiragana: "ã ã„ãŒã", indonesian: "Universitas", romaji: "daigaku"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "å…ˆç”Ÿ", hiragana: "ã›ã‚“ã›ã„", indonesian: "Guru", romaji: "sensei"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "å­¦ç”Ÿ", hiragana: "ãŒãã›ã„", indonesian: "Siswa", romaji: "gakusei"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "å‹‰å¼·", hiragana: "ã¹ã‚“ãã‚‡ã†", indonesian: "Belajar", romaji: "benkyou"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "å®¿é¡Œ", hiragana: "ã—ã‚…ãã ã„", indonesian: "PR", romaji: "shukudai"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "è©¦é¨“", hiragana: "ã—ã‘ã‚“", indonesian: "Ujian", romaji: "shiken"},
            {category: "ä»•äº‹ãƒ»å­¦æ ¡", japanese: "ä¼‘ã¿", hiragana: "ã‚„ã™ã¿", indonesian: "Libur", romaji: "yasumi"}
        ];

        let currentQuiz = [];
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let learnedWords = new Set();

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadDictionary();
            setupSearch();
            setupQuizCategories();
            loadVoices();
        });

        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function loadDictionary() {
            const wordGrid = document.getElementById('wordGrid');
            wordGrid.innerHTML = '';

            dictionary.forEach(word => {
                const wordCard = createWordCard(word);
                wordGrid.appendChild(wordCard);
            });

            updateStats();
        }

        function createWordCard(word) {
            const card = document.createElement('div');
            card.className = 'word-card';
            card.onclick = () => markAsLearned(word);

            const categoryTranslation = getCategoryTranslation(word.category);
            const exampleId = `example-${word.japanese.replace(/[^\w]/g, '')}-${Math.random().toString(36).substr(2, 9)}`;

            card.innerHTML = `
                <div class="word-japanese">${word.japanese}</div>
                <div class="word-hiragana">${word.hiragana}</div>
                <div class="word-indonesian">${word.indonesian}</div>
                <div class="word-romaji">${word.romaji}</div>
                <div class="word-category category-bilingual">
                    ${word.category}<br><small>${categoryTranslation}</small>
                </div>
                <div class="button-row">
                    <button class="pronunciation-btn" onclick="speakWord('${word.japanese}', event)">ğŸ”Š ç™ºéŸ³ (Pelafalan)</button>
                    <button class="example-btn" onclick="toggleExample('${exampleId}', '${word.japanese}', event)">ğŸ“ äº‹ä¾‹ (Contoh)</button>
                </div>
                <div id="${exampleId}" class="word-example">
                    ${getWordExample(word)}
                </div>
            `;

            return card;
        }

        function getCategoryTranslation(category) {
            const translations = {
                "æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾": "Salam & Ungkapan Dasar",
                "å®¶æ—ãƒ»äººé–“é–¢ä¿‚": "Keluarga & Hubungan",
                "é£Ÿäº‹ãƒ»æ–™ç†": "Makanan & Masak",
                "è²·ã„ç‰©": "Berbelanja",
                "äº¤é€šãƒ»ç§»å‹•": "Transportasi",
                "æ™‚é–“ãƒ»æ—¥ä»˜": "Waktu & Tanggal",
                "ä½å±…ãƒ»å®¶å…·": "Rumah & Furnitur",
                "å¥åº·ãƒ»ç—…æ°—": "Kesehatan",
                "å¤©æ°—ãƒ»å­£ç¯€": "Cuaca & Musim",
                "æ„Ÿæƒ…ãƒ»æ°—æŒã¡": "Perasaan",
                "è¶£å‘³ãƒ»å¨¯æ¥½": "Hobi & Hiburan",
                "ä»•äº‹ãƒ»å­¦æ ¡": "Kerja & Sekolah"
            };
            return translations[category] || category;
        }

        function getWordExample(word) {
            const examples = {
                // æŒ¨æ‹¶ãƒ»åŸºæœ¬è¡¨ç¾
                "ãŠã¯ã‚ˆã†": {
                    japanese: "ãŠã¯ã‚ˆã†ï¼",
                    romaji: "ohayou!",
                    indonesian: "Selamat pagi! (kepada teman)"
                },
                "ã“ã‚“ã«ã¡ã¯": {
                    japanese: "ã“ã‚“ã«ã¡ã¯ã€‚å…ƒæ°—ã§ã™ã‹ï¼Ÿ",
                    romaji: "konnichiwa. genki desu ka?",
                    indonesian: "Selamat siang. Apa kabar?"
                },
                "ã‚ã‚ŠãŒã¨ã†": {
                    japanese: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚",
                    romaji: "arigatou gozaimashita.",
                    indonesian: "Terima kasih banyak."
                },
                "ã™ã¿ã¾ã›ã‚“": {
                    japanese: "ã™ã¿ã¾ã›ã‚“ã€é§…ã¯ã©ã“ã§ã™ã‹ï¼Ÿ",
                    romaji: "sumimasen, eki wa doko desu ka?",
                    indonesian: "Permisi, stasiun di mana?"
                },

                // å®¶æ—ãƒ»äººé–“é–¢ä¿‚
                "å®¶æ—": {
                    japanese: "å®¶æ—ã¨ä¸€ç·’ã«ä½ã‚“ã§ã„ã¾ã™ã€‚",
                    romaji: "kazoku to issho ni sunde imasu.",
                    indonesian: "Tinggal bersama keluarga."
                },
                "å‹é”": {
                    japanese: "å‹é”ã¨æ˜ ç”»ã‚’è¦‹ã¾ã—ãŸã€‚",
                    romaji: "tomodachi to eiga wo mimashita.",
                    indonesian: "Nonton film dengan teman."
                },

                // é£Ÿäº‹ãƒ»æ–™ç†
                "ã”é£¯": {
                    japanese: "ã”é£¯ã‚’é£Ÿã¹ã¾ã›ã‚“ã‹ï¼Ÿ",
                    romaji: "gohan wo tabemasen ka?",
                    indonesian: "Mau makan tidak?"
                },
                "æ°´": {
                    japanese: "æ°´ã‚’ãã ã•ã„ã€‚",
                    romaji: "mizu wo kudasai.",
                    indonesian: "Tolong air."
                },
                "ãŠã„ã—ã„": {
                    japanese: "ã¨ã¦ã‚‚ãŠã„ã—ã„ã§ã™ã€‚",
                    romaji: "totemo oishii desu.",
                    indonesian: "Sangat enak."
                },

                // è²·ã„ç‰©
                "è²·ã„ç‰©": {
                    japanese: "è²·ã„ç‰©ã«è¡Œãã¾ã™ã€‚",
                    romaji: "kaimono ni ikimasu.",
                    indonesian: "Pergi berbelanja."
                },
                "å®‰ã„": {
                    japanese: "ã“ã®åº—ã¯å®‰ã„ã§ã™ã€‚",
                    romaji: "kono mise wa yasui desu.",
                    indonesian: "Toko ini murah."
                },

                // äº¤é€šãƒ»ç§»å‹•
                "é›»è»Š": {
                    japanese: "é›»è»Šã§ä¼šç¤¾ã«è¡Œãã¾ã™ã€‚",
                    romaji: "densha de kaisha ni ikimasu.",
                    indonesian: "Pergi ke kantor naik kereta."
                },
                "æ­©ã": {
                    japanese: "é§…ã¾ã§æ­©ãã¾ã™ã€‚",
                    romaji: "eki made arukimasu.",
                    indonesian: "Jalan kaki ke stasiun."
                },

                // æ™‚é–“ãƒ»æ—¥ä»˜
                "ä»Šæ—¥": {
                    japanese: "ä»Šæ—¥ã¯æš–ã‹ã„ã§ã™ã€‚",
                    romaji: "kyou wa atatakai desu.",
                    indonesian: "Hari ini hangat."
                },
                "æ˜æ—¥": {
                    japanese: "æ˜æ—¥ã¯ä¼‘ã¿ã§ã™ã€‚",
                    romaji: "ashita wa yasumi desu.",
                    indonesian: "Besok libur."
                },

                // å¥åº·ãƒ»ç—…æ°—
                "é¢¨é‚ª": {
                    japanese: "é¢¨é‚ªã‚’ã²ãã¾ã—ãŸã€‚",
                    romaji: "kaze wo hikimashita.",
                    indonesian: "Masuk angin."
                },
                "ç—…é™¢": {
                    japanese: "ç—…é™¢ã«è¡Œãã¾ã™ã€‚",
                    romaji: "byouin ni ikimasu.",
                    indonesian: "Pergi ke rumah sakit."
                },

                // å¤©æ°—ãƒ»å­£ç¯€
                "æ™´ã‚Œ": {
                    japanese: "ä»Šæ—¥ã¯æ™´ã‚Œã§ã™ã€‚",
                    romaji: "kyou wa hare desu.",
                    indonesian: "Hari ini cerah."
                },
                "æš‘ã„": {
                    japanese: "ä»Šæ—¥ã¯æš‘ã„ã§ã™ã­ã€‚",
                    romaji: "kyou wa atsui desu ne.",
                    indonesian: "Hari ini panas ya."
                },

                // æ„Ÿæƒ…ãƒ»æ°—æŒã¡
                "å¬‰ã—ã„": {
                    japanese: "ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ã€‚",
                    romaji: "totemo ureshii desu.",
                    indonesian: "Sangat senang."
                },
                "ç–²ã‚Œã‚‹": {
                    japanese: "ä»Šæ—¥ã¯ç–²ã‚Œã¾ã—ãŸã€‚",
                    romaji: "kyou wa tsukaremashita.",
                    indonesian: "Hari ini capek."
                },

                // è¶£å‘³ãƒ»å¨¯æ¥½
                "è¶£å‘³": {
                    japanese: "è¶£å‘³ã¯èª­æ›¸ã§ã™ã€‚",
                    romaji: "shumi wa dokusho desu.",
                    indonesian: "Hobi saya membaca."
                },
                "éŸ³æ¥½": {
                    japanese: "éŸ³æ¥½ã‚’èãã¾ã™ã€‚",
                    romaji: "ongaku wo kikimasu.",
                    indonesian: "Mendengarkan musik."
                },

                // ä»•äº‹ãƒ»å­¦æ ¡
                "ä»•äº‹": {
                    japanese: "ä»•äº‹ã¯å¿™ã—ã„ã§ã™ã€‚",
                    romaji: "shigoto wa isogashii desu.",
                    indonesian: "Pekerjaan sibuk."
                },
                "å‹‰å¼·": {
                    japanese: "æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚",
                    romaji: "nihongo wo benkyou shite imasu.",
                    indonesian: "Sedang belajar bahasa Jepang."
                }
            };

            const example = examples[word.japanese];
            if (example) {
                return `
                    <div class="example-japanese">${example.japanese}</div>
                    <div class="example-romaji">${example.romaji}</div>
                    <div class="example-indonesian">${example.indonesian}</div>
                `;
            }

            return `
                <div class="example-japanese">${word.japanese}ã®ä½¿ç”¨ä¾‹</div>
                <div class="example-romaji">${word.romaji} no shiyou rei</div>
                <div class="example-indonesian">Contoh penggunaan ${word.japanese}</div>
            `;
        }

        function toggleExample(exampleId, wordJapanese, event) {
            event.stopPropagation();
            const exampleDiv = document.getElementById(exampleId);
            exampleDiv.classList.toggle('show');
        }

        function markAsLearned(word) {
            learnedWords.add(word.japanese);
            updateStats();
            // Visual feedback
            event.currentTarget.style.background = '#e8f5e8';
            setTimeout(() => {
                event.currentTarget.style.background = '';
            }, 1000);
        }

        function speakWord(text, event) {
            event.stopPropagation();

            if ('speechSynthesis' in window) {
                // Stop any ongoing speech
                speechSynthesis.cancel();

                // Get the word data to access hiragana and romaji
                const wordData = dictionary.find(word => word.japanese === text);

                let textToSpeak = text;
                let pronunciationHint = '';

                if (wordData) {
                    // Use hiragana for more accurate pronunciation
                    textToSpeak = wordData.hiragana;
                    pronunciationHint = `Romaji: ${wordData.romaji}`;

                    // For better pronunciation, add spaces between characters for some problematic words
                    if (text.length > 2) {
                        textToSpeak = wordData.hiragana.split('').join(' ');
                    }
                }

                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                utterance.lang = 'ja-JP';
                utterance.rate = 0.6; // Slower for better clarity
                utterance.pitch = 1.0;
                utterance.volume = 1.0;

                // Priority order for Japanese voices
                const voices = speechSynthesis.getVoices();
                const japaneseVoices = voices.filter(voice =>
                    voice.lang.includes('ja') ||
                    voice.name.includes('Japanese') ||
                    voice.name.includes('æ—¥æœ¬')
                );

                // Try to find the best Japanese voice
                let selectedVoice = null;

                // Prefer native Japanese voices
                selectedVoice = japaneseVoices.find(voice =>
                    voice.name.includes('Kyoko') ||
                    voice.name.includes('Otoya') ||
                    voice.name.includes('Sayaka')
                );

                // Fallback to any Japanese voice
                if (!selectedVoice && japaneseVoices.length > 0) {
                    selectedVoice = japaneseVoices[0];
                }

                if (selectedVoice) {
                    utterance.voice = selectedVoice;
                }

                // Handle errors and provide feedback
                utterance.onerror = function(event) {
                    showSpeechFeedback('éŸ³å£°ã‚¨ãƒ©ãƒ¼ / Error suara', 'error');
                };

                utterance.onstart = function() {
                    const feedbackText = pronunciationHint ?
                        `ğŸ”Š ${text} (${pronunciationHint})` :
                        `ğŸ”Š å†ç”Ÿä¸­... / Sedang memutar...`;
                    showSpeechFeedback(feedbackText, 'playing');
                };

                utterance.onend = function() {
                    hideSpeechFeedback();
                };

                // Add small delay to ensure voice is loaded
                setTimeout(() => {
                    speechSynthesis.speak(utterance);
                }, 100);

            } else {
                showSpeechFeedback('éŸ³å£°æ©Ÿèƒ½ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ / Fitur suara tidak didukung', 'error');
            }
        }

        function showSpeechFeedback(message, type) {
            // Remove existing feedback
            const existingFeedback = document.getElementById('speechFeedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }

            const feedback = document.createElement('div');
            feedback.id = 'speechFeedback';
            feedback.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? '#e17055' : '#00b894'};
                color: white;
                padding: 10px 20px;
                border-radius: 25px;
                font-size: 14px;
                z-index: 1000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                animation: slideIn 0.3s ease;
            `;

            feedback.textContent = message;
            document.body.appendChild(feedback);

            // Auto-hide after 3 seconds for non-playing messages
            if (type !== 'playing') {
                setTimeout(() => {
                    hideSpeechFeedback();
                }, 3000);
            }
        }

        function hideSpeechFeedback() {
            const feedback = document.getElementById('speechFeedback');
            if (feedback) {
                feedback.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (feedback.parentNode) {
                        feedback.remove();
                    }
                }, 300);
            }
        }

        // Load voices when they become available
        function loadVoices() {
            if ('speechSynthesis' in window) {
                let voices = speechSynthesis.getVoices();

                // Chrome loads voices asynchronously
                if (voices.length === 0) {
                    speechSynthesis.addEventListener('voiceschanged', function() {
                        voices = speechSynthesis.getVoices();
                    });
                }
            }
        }

        function updateStats() {
            document.getElementById('totalWords').textContent = dictionary.length;
            document.getElementById('learnedWords').textContent = learnedWords.size;
        }

        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const categoryFilter = document.getElementById('categoryFilter');

            searchInput.addEventListener('input', filterWords);
            categoryFilter.addEventListener('change', filterWords);
        }

        function filterWords() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const selectedCategory = document.getElementById('categoryFilter').value;

            const filtered = dictionary.filter(word => {
                const matchesSearch = word.japanese.toLowerCase().includes(searchTerm) ||
                                    word.hiragana.toLowerCase().includes(searchTerm) ||
                                    word.indonesian.toLowerCase().includes(searchTerm) ||
                                    word.romaji.toLowerCase().includes(searchTerm);
                const matchesCategory = !selectedCategory || word.category === selectedCategory;

                return matchesSearch && matchesCategory;
            });

            displayFilteredWords(filtered);
        }

        function displayFilteredWords(words) {
            const wordGrid = document.getElementById('wordGrid');
            wordGrid.innerHTML = '';

            words.forEach(word => {
                const wordCard = createWordCard(word);
                wordGrid.appendChild(wordCard);
            });
        }

        function setupQuizCategories() {
            const categories = [...new Set(dictionary.map(word => word.category))];
            const checkboxContainer = document.getElementById('categoryCheckboxes');

            categories.forEach(category => {
                const categoryTranslation = getCategoryTranslation(category);
                const checkboxDiv = document.createElement('div');
                checkboxDiv.className = 'category-checkbox';

                checkboxDiv.innerHTML = `
                    <input type="checkbox" id="quiz-${category}" value="${category}" checked>
                    <label for="quiz-${category}">
                        ${category}<br>
                        <small>${categoryTranslation}</small>
                    </label>
                `;

                checkboxContainer.appendChild(checkboxDiv);
            });
        }

        function selectAllCategories() {
            document.querySelectorAll('#categoryCheckboxes input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = true;
            });
        }

        function deselectAllCategories() {
            document.querySelectorAll('#categoryCheckboxes input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });
        }

        function getSelectedCategories() {
            const selectedCategories = [];
            document.querySelectorAll('#categoryCheckboxes input[type="checkbox"]:checked').forEach(checkbox => {
                selectedCategories.push(checkbox.value);
            });
            return selectedCategories;
        }

        function startQuiz() {
            const selectedCategories = getSelectedCategories();

            if (selectedCategories.length === 0) {
                alert('å°‘ãªãã¨ã‚‚1ã¤ã®ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚\nPilih minimal satu kategori.');
                return;
            }

            // Filter dictionary by selected categories
            const filteredWords = dictionary.filter(word => selectedCategories.includes(word.category));

            if (filteredWords.length === 0) {
                alert('é¸æŠã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒªã«å˜èªãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nTidak ada kata dalam kategori yang dipilih.');
                return;
            }

            // Get up to 10 words, or all available if less than 10
            const quizLength = Math.min(10, filteredWords.length);
            currentQuiz = filteredWords.sort(() => Math.random() - 0.5).slice(0, quizLength);
            currentQuestionIndex = 0;
            quizScore = 0;

            document.getElementById('quizScore').textContent = quizScore;
            document.getElementById('quizTotal').textContent = currentQuiz.length;

            showNextQuestion();
        }

        function showNextQuestion() {
            if (currentQuestionIndex >= currentQuiz.length) {
                endQuiz();
                return;
            }

            const currentWord = currentQuiz[currentQuestionIndex];
            const options = generateQuizOptions(currentWord);

            // Set trilingual question (Japanese, Indonesian, Romaji)
            document.getElementById('quizQuestionJapanese').textContent =
                `ã“ã®æ—¥æœ¬èªã®æ„å‘³ã¯ï¼Ÿ "${currentWord.japanese}" (${currentWord.hiragana})`;
            document.getElementById('quizQuestionIndonesian').textContent =
                `Apa arti kata Jepang ini? "${currentWord.japanese}" (${currentWord.hiragana})`;
            document.getElementById('quizQuestionRomaji').textContent =
                `Romaji: ${currentWord.romaji}`;

            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';

            options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = option;
                button.onclick = () => checkAnswer(option, currentWord.indonesian, button);
                optionsContainer.appendChild(button);
            });

            document.getElementById('nextBtn').style.display = 'none';
        }

        function generateQuizOptions(correctWord) {
            const options = [correctWord.indonesian];
            // åŒã˜ã‚«ãƒ†ã‚´ãƒªã®å˜èªã‚’å„ªå…ˆçš„ã«é¸æŠ
            const sameCategoryWords = dictionary.filter(w =>
                w.category === correctWord.category && w.indonesian !== correctWord.indonesian
            );
            const otherWords = dictionary.filter(w =>
                w.category !== correctWord.category && w.indonesian !== correctWord.indonesian
            );

            // åŒã˜ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰2ã¤é¸æŠ
            while (options.length < 3 && sameCategoryWords.length > 0) {
                const randomIndex = Math.floor(Math.random() * sameCategoryWords.length);
                const randomWord = sameCategoryWords[randomIndex];
                if (!options.includes(randomWord.indonesian)) {
                    options.push(randomWord.indonesian);
                }
                sameCategoryWords.splice(randomIndex, 1);
            }

            // è¶³ã‚Šãªã„åˆ†ã¯ä»–ã®ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰é¸æŠ
            while (options.length < 4 && otherWords.length > 0) {
                const randomIndex = Math.floor(Math.random() * otherWords.length);
                const randomWord = otherWords[randomIndex];
                if (!options.includes(randomWord.indonesian)) {
                    options.push(randomWord.indonesian);
                }
                otherWords.splice(randomIndex, 1);
            }

            return options.sort(() => Math.random() - 0.5);
        }

        function checkAnswer(selectedAnswer, correctAnswer, button) {
            const allOptions = document.querySelectorAll('.quiz-option');
            allOptions.forEach(option => option.onclick = null);

            if (selectedAnswer === correctAnswer) {
                button.classList.add('correct');
                quizScore++;
            } else {
                button.classList.add('incorrect');
                // Highlight correct answer
                allOptions.forEach(option => {
                    if (option.textContent === correctAnswer) {
                        option.classList.add('correct');
                    }
                });
            }

            document.getElementById('quizScore').textContent = quizScore;
            document.getElementById('nextBtn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            showNextQuestion();
        }

        function endQuiz() {
            const percentage = Math.round((quizScore / currentQuiz.length) * 100);
            let resultMessage = '';
            let resultMessageIndonesian = '';

            if (percentage >= 90) {
                resultMessage = 'ç´ æ™´ã‚‰ã—ã„ï¼å®Œç’§ã§ã™ï¼';
                resultMessageIndonesian = 'Luar biasa! Sempurna!';
            } else if (percentage >= 70) {
                resultMessage = 'ã‚ˆãã§ãã¾ã—ãŸï¼';
                resultMessageIndonesian = 'Bagus sekali!';
            } else if (percentage >= 50) {
                resultMessage = 'ã‚‚ã†å°‘ã—é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚';
                resultMessageIndonesian = 'Perlu sedikit lagi usaha.';
            } else {
                resultMessage = 'å¾©ç¿’ãŒå¿…è¦ã§ã™ã€‚';
                resultMessageIndonesian = 'Perlu banyak latihan lagi.';
            }

            document.getElementById('quizQuestionJapanese').textContent =
                `ã‚¯ã‚¤ã‚ºå®Œäº†ï¼ ã‚¹ã‚³ã‚¢: ${quizScore}/${currentQuiz.length} (${percentage}%) ${resultMessage}`;
            document.getElementById('quizQuestionIndonesian').textContent =
                `Kuis selesai! Skor: ${quizScore}/${currentQuiz.length} (${percentage}%) ${resultMessageIndonesian}`;

            document.getElementById('quizOptions').innerHTML = '';
            document.getElementById('nextBtn').style.display = 'none';
        }

        function loadPracticeWords() {
            const category = document.getElementById('practiceCategory').value;
            const practiceWords = dictionary.filter(word => word.category === category);

            const practiceGrid = document.getElementById('practiceGrid');
            practiceGrid.innerHTML = '';

            practiceWords.forEach(word => {
                const card = createWordCard(word);
                practiceGrid.appendChild(card);
            });
        }
    </script>
</body>
</html>